<!DOCTYPE html><html>
    <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Major</title>
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js"></script>
    
          <!-- bootstrap, need to use https for these links -->
          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
          <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    
        <style> .btn{margin: 5px} </style>
    </head>
    <body>
      <div class="container">
          <h2>Select a Majors</h2>
          <div style='padding: 5px;'> 
             <button type='button' class="btn btn-primary" onClick="getData('CIT Majors')">CIT Majors</button> 
             <button type='button' class="btn btn-primary" onClick="getData('Business Majors')">Business Majors</button> 
    
          </div>
      
      <h3>We filter our dataset by Majors</h3>
      <div class="row">        
        <table id="table" class="table table-stripped">
          <thead>
            <tr>
              <td>name</td>
              <td>Major</td>
              <td>Midterm</td>
              <td>Final</td>
            </tr>
          </thead>
          <tbody id="tbody">

          </tbody>
        </table>
        </div>

        
      </div>
    </div>
  </body>

  <script>
    var Select = [{"name":"Rosie","major":"CIT","midterm":88,"final":87},
{"name":"Bruce","major":"CIT","midterm":68,"final":87},
{"name":"Carol","major":"BUS","midterm":75,"final":87},
{"name":"David","major":"CIT","midterm":85,"final":77},
{"name":"Ellen","major":"CIT","midterm":98,"final":77},
{"name":"Frank","major":"BUS","midterm":53,"final":61},
{"name":"Grady","major":"BUS","midterm":93,"final":92},
{"name":"Hanna","major":"BUS","midterm":88,"final":56},
{"name":"Irene","major":"CIT","midterm":79,"final":64},
{"name":"Jacky","major":"CIT","midterm":89,"final":80},
{"name":"Karen","major":"CIT","midterm":85,"final":70},
{"name":"Lamar","major":"BUS","midterm":73,"final":77},
{"name":"Mable","major":"CIT","midterm":74,"final":70},
{"name":"Nancy","major":"CIT","midterm":40,"final":82},
{"name":"Ohmar","major":"CIT","midterm":70,"final":93},
{"name":"Chuck","major":"BUS","midterm":80,"final":54},
{"name":"Paula","major":"BUS","midterm":88,"final":61},
{"name":"Quint","major":"CIT","midterm":99,"final":80},
{"name":"Ronda","major":"CIT","midterm":71,"final":77},
{"name":"Sammy","major":"CIT","midterm":98,"final":99},
      
    ];

    document.addEventListener('DOMContentLoaded', function() {     // after page loads, more or less

document.querySelector('#btn').onclick = async function(){
    var response = await fetch('cit5students.json');        // ajax GET request

    if(response.ok) {
         var data = await response.json();         // 'data' holds an array of objects

         var tableContents = "<table cellspacing='5'>"     // generate table
         tableContents += "<tr><td>Name</td><td>Midterm</td><td>Final</td></tr>";

         for(i = 0; i < data.length; i++) {
             tableContents += `<tr><td> ${data[i].name} </td>
                    <td> ${data[i].midterm} </td>    // make rows using template literals
                    <td> ${data[i].final} </td></tr>`;
         }

         tableContents += "</table>";
         document.querySelector('#result').innerHTML = tableContents;
    }
    else {
         document.querySelector('#result').innerHTML = "Data not found";
    }
};

});
</script>

</body>
</html>
